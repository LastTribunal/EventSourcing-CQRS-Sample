@{
    ViewBag.Title = "Event Sourcing and CQRS Sample";
}

<h1>@ViewBag.Title</h1>

<div class="row">
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <h2>Input</h2>

        <div user-registration></div>
    </div>
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <h2>Materialised View</h2>

        <div user-materialised></div>
    </div>
    <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
        <h2>Actual Data Store</h2>

        <div user-registered></div>
    </div>
</div>

@section scripts
{
    @Scripts.Render("~/bundles/angular")

    <!-- Main entry for Angular -->
    <script src="~/App/App.js"></script>

    <!-- Register models -->
    <script src="~/App/models/emailModel.js"></script>
    <script src="~/App/models/errorModel.js"></script>
    <script src="~/App/models/eventStreamModel.js"></script>
    <script src="~/App/models/materialViewModel.js"></script>
    <script src="~/App/models/salutationModel.js"></script>
    <script src="~/App/models/usernameModel.js"></script>
    <script src="~/App/models/userRegistrationModel.js"></script>

    <!-- Register factories -->
    <script src="~/App/factories/emailFactory.js"></script>
    <script src="~/App/factories/eventStreamFactory.js"></script>
    <script src="~/App/factories/materialViewFactory.js"></script>
    <script src="~/App/factories/salutationsFactory.js"></script>
    <script src="~/App/factories/storageViewFactory.js"></script>
    <script src="~/App/factories/usernameFactory.js"></script>

    <!-- Register components/directives -->
    <script src="~/App/components/userEmail/userEmail.js"></script>
    <script src="~/App/components/userMaterialised/userMaterialised.js"></script>
    <script src="~/App/components/userName/userName.js"></script>
    <script src="~/App/components/userRegistered/userRegistered.js"></script>
    <script src="~/App/components/userRegistration/userRegistration.js"></script>
    <script src="~/App/components/userSalutation/userSalutation.js"></script>

    <!-- Bind Angular to the page -->
    <script>
        angular.element(document).ready(function() {
            angular.bootstrap(document, ["app"]);
        });
    </script>
}
